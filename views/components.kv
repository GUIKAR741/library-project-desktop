#:import Factory kivy.factory.Factory
<ActionSpinnerOptions@SpinnerOption>
    background_color: .4, .4, .4, 1
    text_language: "pt-BR"

<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12
    background_normal: 'atlas://data/images/defaulttheme/action_group'
    option_cls: Factory.ActionSpinnerOptions

<MyActionBar>
    pos_hint: {'top':1}
    ActionView:
        use_separator: True
        ActionPrevious:
            title: 'SYML'
            app_icon: 'res/icon.png'
            with_previous: root.prev
            app_icon_height: 5
            previous_image_height: 5
            on_release: root.func()
        ActionSpinner:
            id: usuarios
            important: True
            text: 'Usuarios'
            values: ['Ver Todos', 'Cadastrar']
            on_text:
                root.usuario(args)
        ActionSpinner:
            id: acervo
            important: True
            text: 'Acervo'
            values: ['Livros', 'Exemplares', 'Cadastrar Livro', 'Cadastrar Exemplar']
            on_text:
                if args[1] != 'Acervo':\
                app.root.current=args[1].replace(' ', '')+"acervo"
                acervo.text='Acervo'
        ActionSpinner:
            id: reservas
            important: True
            text: 'Reservas'
            values: ['Ver Todas']
            on_text:
                if args[1] != 'Reservas':\
                app.root.current=args[1].replace(' ', '')+"reservas"
                reservas.text='Reservas'
        ActionSpinner:
            id: emprestimos
            important: True
            text: 'Emprestimos'
            values: ['Ver Todos', "Devoluções", "Emprestar Livro"]
            on_text:
                if args[1] != 'Emprestimos':\
                app.root.current=args[1].replace(' ', '')+"emprestimos"
                emprestimos.text='Emprestimos'

<Exibir>
    size_hint_y:None
    height:'40sp'
    Label:
        color: 0, 0, 0, 1
        text: root.texto
        font_size:'15sp'
    Button:
        text:'Atualizar'
        size_hint_x:None
        width:'70sp'
        on_release: root.att(root)
    Button:
        text:'Excluir'
        size_hint_x:None
        width:'70sp'
        on_release: root.deletar(root)

<PopupError>:
    size_hint: .5, .5
    auto_dismiss: False
    title: root.titulo
    BoxLayout:
        id: box
        orientation: 'vertical'
        Label:
            text: root.texto
        Button:
            size_hint_y: None
            height: '30sp'
            text: "Fechar"
            on_press: root.funcao(root)